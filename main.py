import pygame
from sprites import Frog, Pond, Tree
from player import Mushroom

pygame.init()

WIDTH, HEIGHT = 1920, 1080
screen = pygame.display.set_mode((WIDTH, HEIGHT))
clock = pygame.time.Clock()

grass_tile = pygame.transform.scale(pygame.image.load("grass.png").convert(), (40, 40))
path_tile = pygame.transform.scale(pygame.image.load("path.png").convert(), (40, 40))
background = pygame.Surface((WIDTH, HEIGHT))
for x in range(0, WIDTH, 40):
    for y in range(0, HEIGHT, 40):
        background.blit(grass_tile, (x, y))

path_positions = [
    (280, 0), (320, 0), (360, 0),
    (280, 40), (320, 40), (360, 40),
    (280, 80), (320, 80), (360, 80),
    (280, 120), (320, 120), (360, 120),
    (280, 160), (320, 160), (360, 160),
    (280, 200), (320, 200), (360, 200),
    (280, 240), (320, 240), (360, 240),
    (280, 280), (320, 280), (360, 280),
    (280, 320), (320, 320), (360, 320),
    (280, 360), (320, 360), (360, 360),
    (280, 400), (320, 400), (360, 400),
    (280, 440), (320, 440), (360, 440),
    (280, 480), (320, 480), (360, 480),
    (280, 520), (320, 520), (360, 520),
    (280, 560), (320, 560), (360, 560),
    (280, 600), (320, 600), (360, 600),
    (280, 640), (320, 640), (360, 640),
    (280, 680), (320, 680), (360, 680),
    (280, 720), (320, 720), (360, 720),
    (280, 760), (320, 760), (360, 760),
    (280, 800), (320, 800), (360, 800),
    (280, 840), (320, 840), (360, 840),

    (360, 800), (400, 800), (440, 800), (480, 800), (520, 800), (560, 800),
    (600, 800), (640, 800), (680, 800), (720, 800), (760, 800), (800, 800),
    (840, 800), (880, 800), (920, 800), (960, 800), (1000, 800), (1040, 800),
    (1080, 800), (1120, 800), (1160, 800), (1200, 800), (1240, 800), (1280, 800),
    (1320, 800), (1360, 800),

    (360, 840), (400, 840), (440, 840), (480, 840), (520, 840), (560, 840),
    (600, 840), (640, 840), (680, 840), (720, 840), (760, 840), (800, 840),
    (840, 840), (880, 840), (920, 840), (960, 840), (1000, 840), (1040, 840),
    (1080, 840), (1120, 840), (1160, 840), (1200, 840), (1240, 840), (1280, 840),
    (1320, 840), (1360, 840),

    (360, 880), (400, 880), (440, 880), (480, 880), (520, 880), (560, 880),
    (600, 880), (640, 880), (680, 880), (720, 880), (760, 880), (800, 880),
    (840, 880), (880, 880), (920, 880), (960, 880), (1000, 880), (1040, 880),
    (1080, 880), (1120, 880), (1160, 880), (1200, 880), (1240, 880), (1280, 880),
    (1320, 880), (1360, 880),

    (1320, 440), (1360, 440), (1400, 440),
    (1320, 480), (1360, 480), (1400, 480),
    (1320, 520), (1360, 520), (1400, 520),
    (1320, 560), (1360, 560), (1400, 560),
    (1320, 600), (1360, 600), (1400, 600),
    (1320, 640), (1360, 640), (1400, 640),
    (1320, 680), (1360, 680), (1400, 680),
    (1320, 720), (1360, 720), (1400, 720),
    (1320, 760), (1360, 760), (1400, 760),
    (1320, 800), (1360, 800), (1400, 800),
    (1320, 840), (1360, 840), (1400, 840)
]
for pos in path_positions:
    background.blit(path_tile, pos)

pond = Pond(1025, 50)
frog = Frog(1360, 180)
trees = [Tree(1, 100), Tree(800, 400), Tree(1200, 700), Tree(1, 600), Tree(620, 195), Tree(1670, 625)]
mushroom = Mushroom(WIDTH, HEIGHT)
mushroom.rect.center = (300, 100)
walls = [pond] + trees

running = True
while running:
    if pygame.event.get(pygame.QUIT):
        running = False

    mushroom.update(walls=walls)
    print(mushroom.rect.center)

    screen.blit(background, (0, 0))
    pond.draw(screen)
    frog.draw(screen)
    mushroom.draw(screen)
    [tree.draw(screen) for tree in trees]

    pygame.display.flip()
    clock.tick(60)

pygame.quit()